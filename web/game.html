<!DOCTYPE html>

<html>
  <element name="x-game" constructor="Game" extends="div">
    <template>
      <div id="x-game">
        <div id="x-game-controls">
          <button class="btn btn-danger" on-click="newgame($event);">New game</button>
          <p>game {{gameCount}} started at {{gameStartTime}}.
        </div>
        <content></content>
      </div>
    </template>
    <script type="application/dart">
      import 'package:web_ui/web_ui.dart';
      class Game extends WebComponent {
        int gameCount = 1;
        int turnCount = 0;
        var gameStartTime = new DateTime.now();
        void newgame(e) {
          gameStartTime = new DateTime.now();
          gameCount++;
          var xContainer = document.query('x-container').xtag;
          xContainer.turnCount = 0; //.nextturn(e,true);
          xContainer.turnStartTime = gameStartTime;
          xContainer.begun = false;
        }
      }
    </script>
  </element>
</html>
